{"version":3,"sources":["webpack:///./src/components/imgFunction/index.vue?cd75","webpack:///./src/components/images/index.vue?28a1","webpack:///./src/components/images/index.vue?dcd4","webpack:///src/components/images/index.vue","webpack:///./src/components/images/index.vue?2375","webpack:///./src/components/images/index.vue?1eaf","webpack:///./src/components/imgFunction/index.vue?cb20","webpack:///src/components/imgFunction/index.vue","webpack:///./src/components/imgFunction/index.vue?7c5d","webpack:///./src/components/imgFunction/index.vue?ced8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","open","_v","drawer","handleClose","$event","_l","item","key","staticRenderFns","name","components","ImgFunctionIndex","data","imageUrls","created","mounted","methods","loadImageUrl","request","$confirm","component","changeStatus","model","value","callback","$$v","status","expression","dialogTableVisible","_e","img","index","imgUrl","slot","imgFlag","onCollect","deleteImag","favoritesDeletionBtn","selectBtn","imgUpload","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","props","uploadBtn","type","Boolean","default","flag","images","imgData","loadImagePage","pageNum","search","$emit"],"mappings":"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","file":"js/chunk-562d6922.28483a7f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=19f01e54&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5fc73262&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"box-card\"},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.open}},[_vm._v(\" 快速浏览 \")]),_c('ImgFunctionIndex'),_c('el-drawer',{attrs:{\"visible\":_vm.drawer,\"direction\":\"ttb\",\"append-to-body\":\"\",\"with-header\":false,\"size\":\"50%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('el-carousel',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"interval\":4000,\"type\":\"card\",\"height\":\"250px\"}},_vm._l((_vm.imageUrls),function(item){return _c('el-carousel-item',{key:item},[_c('el-image',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":item,\"fit\":\"fill\"}})],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--图片管理组件-->\r\n<template>\r\n    <el-card class=\"box-card\">\r\n      <el-button @click=\"open\" type=\"primary\" style=\"margin-left: 10px;\" >\r\n        快速浏览\r\n      </el-button>\r\n      <ImgFunctionIndex/>\r\n\r\n      <el-drawer\r\n          :visible.sync=\"drawer\"\r\n          direction=\"ttb\"\r\n          append-to-body\r\n          :with-header=\"false\"\r\n          size=\"50%\"\r\n          :before-close=\"handleClose\">\r\n        <el-carousel :interval=\"4000\" type=\"card\" height=\"250px\" style=\"margin-top: 15px\">\r\n          <el-carousel-item v-for=\"item in imageUrls\" :key=\"item\">\r\n            <el-image\r\n                style=\"width: 100%; height: 100%\"\r\n                :src=\"item\"\r\n                fit=\"fill\"></el-image>\r\n          </el-carousel-item>\r\n        </el-carousel>\r\n      </el-drawer>\r\n    </el-card>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport ImgFunctionIndex from \"../imgFunction\"\r\nimport request from \"../../utils/request\";\r\n\r\nexport default {\r\n  name: \"ImagesIndex\",\r\n  components: {\r\n    ImgFunctionIndex\r\n  },\r\n  data() {\r\n    return {\r\n      drawer: false,//抽屉是否打开状态\r\n      imageUrls:[],//所有图片地址\r\n    }\r\n  },\r\n//页面加载\r\n  created() {\r\n  },\r\n//可以访问DOM元素\r\n  mounted() {\r\n  },\r\n//方法集合\r\n  methods: {\r\n    //获取所有图片地址方法\r\n    loadImageUrl(){\r\n      request.get(\"/image/selectAll\").then(res=>{\r\n        this.imageUrls=res.data.data.imageUrl\r\n      })\r\n    },\r\n    //抽屉打开方法\r\n    open(){\r\n      this.loadImageUrl()\r\n      this.drawer=true\r\n    },\r\n    //抽屉关闭方法\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n          .then(_ => {\r\n            done();\r\n          })\r\n          .catch(_ => {});\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-carousel__item h3 {\r\n  color: #475669;\r\n  font-size: 14px;\r\n  opacity: 0.75;\r\n  line-height: 200px;\r\n  margin: 0;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n) {\r\n  background-color: #99a9bf;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n+1) {\r\n  background-color: #d3dce6;\r\n}\r\n</style>\r\n        \r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5fc73262&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5fc73262&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fc73262\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"btn\"},[_c('el-radio-group',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.changeStatus},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_c('el-radio-button',{attrs:{\"label\":false}},[_vm._v(\"全部\")]),_c('el-radio-button',{attrs:{\"label\":true}},[_vm._v(\"收藏\")])],1),(_vm.uploadBtn)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){_vm.dialogTableVisible=true}}},[_vm._v(\"上传图片\")]):_vm._e()],1),_c('el-row',{attrs:{\"gutter\":10}},_vm._l((_vm.images),function(img,index){return _c('el-col',{key:index,staticClass:\"image-item\",attrs:{\"xs\":12,\"sm\":6,\"md\":6,\"lg\":4}},[_c('el-image',{staticStyle:{\"height\":\"120px\"},attrs:{\"lazy\":true,\"fit\":\"cover\",\"placeholder\":\"图片正在加载\",\"src\":img.imgUrl,\"preview-src-list\":[img.imgUrl]}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])]),_c('div',{staticClass:\"image-action\"},[(_vm.favoritesDeletionBtn)?_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":img.imgFlag?'el-icon-star-on':'el-icon-star-off',\"circle\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onCollect(img)}}}):_vm._e(),(_vm.favoritesDeletionBtn)?_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteImag(img)}}}):_vm._e(),(!_vm.favoritesDeletionBtn)?_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-check\",\"circle\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.selectBtn(img)}}}):_vm._e()],1)],1)}),1),_c('el-dialog',{attrs:{\"title\":\"上传图片\",\"visible\":_vm.dialogTableVisible,\"append-to-body\":true,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[(_vm.dialogTableVisible)?_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"action\":\"http://localhost:9090/image/ossUpload\",\"on-success\":_vm.imgUpload,\"multiple\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])]):_vm._e()],1),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[12, 16, 20, 24],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--图片功能组件-->\r\n<template>\r\n  <div class=\"\">\r\n    <!--按钮-->\r\n    <div class=\"btn\">\r\n      <el-radio-group v-model=\"status\" size=\"small\" @change=\"changeStatus\">\r\n        <el-radio-button :label=\"false\">全部</el-radio-button>\r\n        <el-radio-button :label=\"true\">收藏</el-radio-button>\r\n      </el-radio-group>\r\n      <!--上传按钮-->\r\n      <el-button size=\"small\" type=\"success\" @click=\"dialogTableVisible=true\" v-if=\"uploadBtn\">上传图片</el-button>\r\n    </div>\r\n\r\n    <!--图片-->\r\n    <el-row :gutter=\"10\">\r\n      <el-col :xs=\"12\" :sm=\"6\" :md=\"6\" :lg=\"4\" v-for=\"(img,index) in images\" :key=\"index\"  class=\"image-item\">\r\n        <el-image\r\n            :lazy=\"true\"\r\n            fit=\"cover\"\r\n            placeholder=\"图片正在加载\"\r\n            style=\"height: 120px\"\r\n            :src=\"img.imgUrl\"\r\n            :preview-src-list=\"[img.imgUrl]\">\r\n          <div slot=\"error\" class=\"image-slot\">\r\n            <i class=\"el-icon-picture-outline\"></i>\r\n          </div>\r\n        </el-image>\r\n        <div class=\"image-action\" >\r\n          <el-button type=\"warning\" :icon=\"img.imgFlag?'el-icon-star-on':'el-icon-star-off'\" circle size=\"small\" @click=\"onCollect(img)\" v-if=\"favoritesDeletionBtn\"></el-button>\r\n          <!--class 样式绑定 {css类名：布尔值} true：使用 false： 不使用-->\r\n          <!--            <i :class=\"{'el-icon-star-on':img.flag,'el-icon-star-off':!img.flag}\" @click=\"onCollect(img.flag)\"></i>-->\r\n          <!--            <i class=\"el-icon-delete-solid\"></i>-->\r\n          <el-button type=\"danger\" icon=\"el-icon-delete\" circle size=\"small\" @click=\"deleteImag(img)\" v-if=\"favoritesDeletionBtn\"></el-button>\r\n          <el-button type=\"success\" icon=\"el-icon-check\" circle size=\"small\" v-if=\"!favoritesDeletionBtn\" @click=\"selectBtn(img)\"></el-button>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!--弹出层-->\r\n    <el-dialog title=\"上传图片\" :visible.sync=\"dialogTableVisible\" :append-to-body=\"true\" width=\"400px\">\r\n      <el-upload\r\n          v-if=\"dialogTableVisible\"\r\n          class=\"upload-demo\"\r\n          drag\r\n          action=\"http://localhost:9090/image/ossUpload\"\r\n          :on-success=\"imgUpload\"\r\n          multiple>\r\n        <i class=\"el-icon-upload\"></i>\r\n        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n        <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n      </el-upload>\r\n    </el-dialog>\r\n\r\n    <!--分页-->\r\n    <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        background\r\n        :current-page.sync=\"currentPage\"\r\n        :page-sizes=\"[12, 16, 20, 24]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"../../utils/request\";\r\n\r\nexport default {\r\n  name: \"ImgFunctionIndex\",\r\n  components: {},\r\n  props:{\r\n    //上传按钮是否展示\r\n    uploadBtn: {\r\n      type: Boolean,\r\n      default: true //默认展示\r\n    },\r\n    //图片收藏删除选中按钮是否展示\r\n    favoritesDeletionBtn: {\r\n      type: Boolean,\r\n      default: true //默认展示\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentPage: 1,//当前页码\r\n      pageSize:12,//当前每页显示条数\r\n      total: 0,//总记录数\r\n      dialogTableVisible:false,//弹出层状态\r\n      status:false,//按按钮状态全部或者收藏\r\n      flag:'',//向后台传入状态\r\n      images:[\r\n        {\r\n          id:'',//图片id\r\n          imgFlag:'',//图片是否收藏\r\n          imgUrl:'',//图片url\r\n        }\r\n      ],//图片集合\r\n      imgData:{},\r\n    }\r\n  },\r\n//页面加载\r\n  created() {\r\n    //获取图片列表\r\n    this.loadImagePage()\r\n  },\r\n//可以访问DOM元素\r\n  mounted() {\r\n  },\r\n//方法集合\r\n  methods: {\r\n    //改变当前每一页个数\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize=pageSize\r\n      //获取图片列表\r\n      this.loadImagePage()\r\n    },\r\n    //改变当前页码触发\r\n    handleCurrentChange(pageNum) {\r\n      this.currentPage=pageNum\r\n      //获取图片列表\r\n      this.loadImagePage()\r\n    },\r\n    //获取图片列表\r\n    loadImagePage(){\r\n      request.get(\"/image/getTypePage\",{params:{\r\n          pageNum:this.currentPage,//向后台传入的页码\r\n          pageSize:this.pageSize,//向后台传入的当前页显示条数\r\n          search:this.flag,//向后台传入的搜索条件\r\n        }}).then(res=>{\r\n        //设置总记录数\r\n        this.total=res.data.data.imagePage.total\r\n        //设置表格数据\r\n        this.images=res.data.data.imagePage.results\r\n      })\r\n    },\r\n    //该变按钮状态触发方法\r\n    changeStatus(value){\r\n      if(value){\r\n        this.flag=true\r\n      }else {\r\n        this.flag=''\r\n      }\r\n      this.loadImagePage()\r\n    },\r\n    //点击改变是否收藏触发(传入是否收藏状态)\r\n    onCollect(img){\r\n      request.patch(\"/image/updateImgFlagById\",img).then(res=>{\r\n        if(res.data.result){\r\n          this.$message.success(res.data.message)\r\n        }else {\r\n          this.$message.error(res.data.message)\r\n        }\r\n        //重新加载数据\r\n        this.loadImagePage();\r\n      })\r\n    },\r\n    //点击删除按钮\r\n    deleteImag(img){\r\n      request.delete(\"/image/deleteImgById/\"+img.id).then(res=>{\r\n        if(res.data.result){\r\n          this.$message.success(res.data.message)\r\n        }else {\r\n          this.$message.error(res.data.message)\r\n        }\r\n        //重新加载数据\r\n        this.loadImagePage();\r\n      })\r\n    },\r\n    //图片上传成功触发的方法\r\n    imgUpload(response,file,fileList){\r\n      //关闭弹框\r\n      this.dialogTableVisible=false\r\n      //刷新数据\r\n      this.loadImagePage()\r\n    },\r\n    //选中按钮方法\r\n    selectBtn(img){\r\n      this.imgData=img\r\n      this.$emit(\"imgData\",this.imgData)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btn{\r\n  margin: 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.image-item{\r\n  position: relative;\r\n}\r\n.image-action{\r\n  font-size: 20px;\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  color: #fff;\r\n  height: 40px;\r\n  background-color: rgba(0,0,0,0.5);\r\n  position: absolute;\r\n  bottom: 4px;\r\n  left: 5px;\r\n  right: 5px;\r\n  transition: 0.5s;\r\n  opacity: 0;\r\n}\r\n.image-item:hover .image-action{\r\n  opacity: 1;\r\n}\r\n/*设置图片宽度*/\r\n.el-image{\r\n  width: 100%;\r\n}\r\n</style>\r\n        \r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=19f01e54&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=19f01e54&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19f01e54\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}